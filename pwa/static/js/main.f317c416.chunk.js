(this["webpackJsonpapp-holder"]=this["webpackJsonpapp-holder"]||[]).push([[0],{100:function(e,t,n){},109:function(e,t){"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js")},110:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(0),c=n.n(r),i=n(8),o=n.n(i),s=(n(100),n(12)),u=n(15),l=n(154),p=n(167),j=n(152),d=n(10),f=n.n(d),b=n(17),h=n(158),O=n(164),x=n(160),m=n(162),v=n(161),g=n(168),y=n(56),w={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",textAlign:"center",overflowX:"hidden",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},k={borderColor:"#2196f3"},C={borderColor:"#00e676"},S={borderColor:"#ff1744"};var T=function(e){var t=Object(y.a)({onDrop:e.onDrop}),n=t.getRootProps,c=t.getInputProps,i=t.isDragActive,o=t.isDragAccept,s=t.isDragReject,l=Object(r.useMemo)((function(){return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},w),i?k:{}),o?C:{}),s?S:{})}),[i,s,o]);return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",Object(u.a)(Object(u.a)({},n({style:l,onClick:function(e){return e.stopPropagation()}})),{},{children:[Object(a.jsx)("input",Object(u.a)({},c())),e.children]}))})},U=n(159),P=n(155),A=n(25),D=n.n(A);var L={getAppContainerPage:function(e){var t=function(e){return""!==e.icoUrl?{url:"./root"+e.icoUrl,type:D.a.getType(e.icoUrl)}:""!==e.iconUrl?{url:e.iconUrl,type:D.a.getType(e.iconUrl)}:{url:"./favicon.ico",type:"image/png"}}(e);return'\n    <!DOCTYPE html>\n    <html lang="en">\n    <head>\n      <meta charset="UTF-8">\n      <meta name="viewport" content="width=device-width, initial-scale=1.0">\n      <link rel="manifest" href="./manifest.json" />\n      <link rel="icon" href="'.concat(t.url,'" type="').concat(t.type,'"/>\n      <title>').concat(e.name,'</title>\n    </head>\n    <body>\n      <iframe id="container" src="./root').concat(e.startup,"\"></iframe>\n    </body>\n    <style>\n      html, body, #container{\n        height: 100%;\n        width: 100%;\n        margin: 0;\n        border: 0;\n      }\n    </style>\n    <script>\n    if ('serviceWorker' in navigator) {\n      navigator.serviceWorker.register('../../../sw.js',{scope:'./root").concat(e.startup,"'});\n    }\n    <\/script>\n    </html>\n    ")},getAppContainerManifestJson:function(e){return'\n    {\n      "short_name": "'.concat(e.name,'",\n      "name": "').concat(e.name,'",\n      "icons": [\n\n        {\n          "src": ').concat(""===e.iconUrl?'"./logo192.png"':'"./root'.concat(e.iconUrl,'"'),',\n          "type": "image/png",\n          "sizes": "256x256 192x192 128x128 64x64 32x32 24x24 16x16"\n        }\n      ],\n      "start_url": "./index.html",\n      "display": "standalone",\n      "theme_color": "#000000",\n      "background_color": "#ffffff"\n    }\n    \n    ')}},N=n(157),E=n(71),R=n.n(E),F=n(74),J=n.n(F),W=n(73),I=n.n(W),V=n(72),B=n.n(V),H=n(46),$=n.n(H),_=n(50),z=n(156),M=n(57),G={success:function(e){},error:function(e){},warning:function(e){},notify:function(e){},info:function(e){}},q={anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:3e3};function X(){var e=Object(M.b)().enqueueSnackbar;return G.notify=function(t){e(t,Object(u.a)(Object(u.a)({},q),{},{variant:"default"}))},["success","error","warning","info"].forEach((function(t){G[t]=function(n){e(n,Object(u.a)(Object(u.a)({},q),{},{variant:t}))}})),Object(a.jsx)(c.a.Fragment,{})}var Y=document.createElement("div");document.body.append(Y),o.a.render(Object(a.jsx)(M.a,{maxSnack:3,children:Object(a.jsx)(X,{})}),Y);var K=G,Q=n(166);function Z(e){var t=e.appId,n=Object(r.useState)(t),c=Object(s.a)(n,2),i=c[0],o=c[1],l=Object(r.useState)(""),p=Object(s.a)(l,2),j=p[0],d=p[1],y=Object(r.useState)(""),w=Object(s.a)(y,2),k=w[0],C=w[1],S=Object(r.useState)(""),A=Object(s.a)(S,2),E=A[0],F=A[1],W=Object(r.useState)(""),V=Object(s.a)(W,2),H=V[0],M=V[1],G=e.onSaved,q=[{title:"\u7a0b\u5e8f\u540d\u79f0",value:j,setValue:d},{title:"\u8d77\u59cb\u6587\u4ef6Url",value:k,setValue:C},{title:"\u56fe\u6807ico Url (ico)",value:E,setValue:F},{title:"PWA \u56fe\u6807url (png)",value:H,setValue:M},{title:"\u7a0b\u5e8fId",value:i,setValue:o}],X=Object(r.useState)([]),Y=Object(s.a)(X,2),Z=Y[0],ee=Y[1],te=Object(r.useState)("file"),ne=Object(s.a)(te,2),ae=ne[0],re=ne[1],ce=e.onClose;function ie(){return oe.apply(this,arguments)}function oe(){return(oe=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new Promise(function(){var e=Object(b.a)(f.a.mark((function e(t){var n,a,r,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(){return(r=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.onload=function(n){e({name:t.name,path:t.path,content:n.target.result})},!function(e){return"image"===e.split("/")[0]}(D.a.getType(t.path))?n.readAsText(t):n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},a=function(e){return r.apply(this,arguments)},(n={id:"test",name:"",startup:"",fileList:[]}).id=i,n.name=j,n.startup=k,n.icoUrl=E,n.iconUrl=H,"file"!==ae){e.next=14;break}return e.next=11,Promise.all(Z.map(a));case 11:c=e.sent,e.next=15;break;case 14:c=Z;case 15:return n.fileList=c,(c=c.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{path:"./apps/".concat(n.id,"/root").concat(e.path),contentType:D.a.getType(e.path)})}))).push({name:"meta.json",path:"./apps/".concat(n.id,"/meta.json"),content:JSON.stringify(n),contentType:D.a.getType("meta.json")}),delete(o=Object(u.a)({},n)).fileList,c.push({name:"info.json",path:"./apps/".concat(n.id,"/info.json"),content:JSON.stringify(o),contentType:D.a.getType("info.json")}),c.push({name:"index.html",path:"./apps/".concat(n.id,"/index.html"),content:L.getAppContainerPage(n),contentType:D.a.getType("index.html")}),c.push({name:"index.html",path:"./apps/".concat(n.id,"/manifest.json"),content:L.getAppContainerManifestJson(n),contentType:D.a.getType("manifest.json")}),n.directFileList=c,e.next=26,fetch("./apps/".concat(n.id),{method:"PUT",mode:"cors",body:JSON.stringify(n),headers:{"Content-type":"application/json"}});case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){o(e.id),d(e.name),re("obj"),ee(e.fileList),C(e.startup),F(e.icoUrl),M(e.iconUrl)}function ue(){return le.apply(this,arguments)}function le(){return(le=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=document.createElement("input");n.type="file",n.accept="application/json",n.onchange=function(n){var a=n.target.files[0];a||t(0);var r=new FileReader;r.onload=function(t){e(JSON.parse(t.target.result))},r.readAsText(a)},n.click()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(e){!function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./apps/".concat(i,"/meta.json"));case 2:return e.next=4,e.sent.json();case 4:se(e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()()}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)(P.a,{position:"fixed",children:Object(a.jsxs)(z.a,{children:[Object(a.jsx)(N.a,{edge:"start",color:"inherit",onClick:ce,"aria-label":"close",children:Object(a.jsx)(R.a,{})},"1"),Object(a.jsx)(_.a,{variant:"h6",style:{width:"100%"},children:j},"2"),Object(a.jsx)(N.a,{"aria-label":"save",color:"inherit",title:"\u751f\u6210id",onClick:function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Object(Q.a)());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(a.jsx)(B.a,{})},"3"),Object(a.jsx)(N.a,{"aria-label":"save",color:"inherit",title:"\u52a0\u8f7d",onClick:function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:se(e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(a.jsx)(I.a,{})},"4"),Object(a.jsx)(N.a,{"aria-label":"save",color:"inherit",title:"\u4fdd\u5b58",onClick:function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:K.success("\u4fdd\u5b58\u6210\u529f"),G();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(a.jsx)(J.a,{})},"5"),Object(a.jsx)(N.a,{"aria-label":"save",color:"inherit",title:"\u542f\u52a8",onClick:function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open("./apps/".concat(i,"/index.html"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(a.jsx)($.a,{})},"6")]})}),Object(a.jsx)("div",{style:{height:"56px"}}),Object(a.jsxs)("div",{className:"App",style:{padding:"1em"},children:[q.map((function(e,t){return Object(a.jsx)(O.a,{label:e.title,style:{width:"100%",marginTop:"1em"},value:e.value,onChange:function(t){e.setValue(t.target.value)},variant:"outlined"},t)})),Object(a.jsx)("div",{style:{paddingTop:"1em"},children:Object(a.jsx)(T,{onDrop:function(e){console.log(e),ee(e),re("file")},children:Object(a.jsx)("div",{style:{width:"100%"},children:Z.length?Object(a.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:[Object(a.jsx)(U.a,{style:{marginTop:"1em"},variant:"contained",color:"secondary",onClick:function(){return ee([])},children:"\u6e05\u7a7a"}),Object(a.jsx)(h.a,{children:Z.map((function(e){return Object(a.jsxs)(x.a,{children:[Object(a.jsx)(v.a,{children:Object(a.jsx)(g.a,{children:Object(a.jsx)("h1",{style:{fontSize:"100%"},children:e.path.match(/\.([^.]*)$/)&&e.path.match(/\.([^.]*)$/)[1]})})}),Object(a.jsx)(m.a,{primary:e.name,secondary:e.path}),{html:Object(a.jsx)(U.a,{color:"primary",onClick:function(t){C(e.path)},children:"\u8d77\u59cb\u9875"},"s"),png:[Object(a.jsx)(U.a,{color:"secondary",onClick:function(t){M(e.path)},children:"PWA\u56fe\u6807"},"p"),Object(a.jsx)(U.a,{color:"secondary",onClick:function(t){F(e.path)},children:"\u7f51\u9875\u56fe\u6807"},"i")],ico:Object(a.jsx)(U.a,{color:"secondary",onClick:function(t){F(e.path)},children:"\u7f51\u9875\u56fe\u6807"},"i")}[e.path.match(/\.([^.]*)$/)&&e.path.match(/\.([^.]*)$/)[1]]||Object(a.jsx)("div",{})]},e.path)}))})]}):Object(a.jsx)("h1",{style:{height:"10em",margin:"1em",lineHeight:"10em"},children:"\u6587\u4ef6\u62d6\u5165\u6b64\u5904"})})})})]})]})}var ee=n(163),te=n(78),ne=n.n(te),ae=n(77),re=n.n(ae),ce=n(75),ie=n.n(ce),oe=n(76),se=n.n(oe),ue=Object(l.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper}}}));function le(e){var t=ue(),n=e.getHandleClickOpen,c=Object(r.useState)("default"),i=Object(s.a)(c,2),o=(i[0],i[1],Object(r.useState)([])),u=Object(s.a)(o,2),l=u[0],p=u[1],j=Object(r.useState)(Object(Q.a)()),d=Object(s.a)(j,2),O=d[0],y=d[1];function w(e){var t=e.id;console.log(t);var c=Object(r.useState)({id:t,name:"--"}),i=Object(s.a)(c,2),o=i[0],u=i[1];return Object(r.useEffect)((function(e){return function(){var e=Object(b.a)(f.a.mark((function e(n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./apps/".concat(t,"/info.json"));case 2:return e.next=4,e.sent.json();case 4:a=e.sent,u(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(),function(){u([])}}),[]),Object(a.jsxs)(x.a,{children:[Object(a.jsx)(v.a,{children:Object(a.jsx)(g.a,{children:Object(a.jsx)(ie.a,{})})}),Object(a.jsx)(m.a,{primary:o.name,secondary:o.id}),Object(a.jsxs)(ee.a,{children:[Object(a.jsx)(N.a,{edge:"end",color:"primary","aria-label":"download",onClick:function(){var e=Object(b.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open("./apps/".concat(t,"/index.html"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(a.jsx)($.a,{})}),Object(a.jsx)(N.a,{edge:"end",color:"primary","aria-label":"download",onClick:function(){var e=Object(b.a)(f.a.mark((function e(n){var a,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./apps/".concat(t,"/meta.json"));case 2:return e.next=4,e.sent.json();case 4:a=e.sent,r=new Blob([JSON.stringify(a)],{type:"application/octet-binary"}),(c=document.createElement("a")).setAttribute("href",URL.createObjectURL(r)),c.setAttribute("download","".concat(o.name,".json")),c.appendChild(document.createTextNode("Save file")),c.click();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(a.jsx)(se.a,{})}),Object(a.jsx)(N.a,{edge:"end",color:"primary","aria-label":"edit",onClick:n(t),children:Object(a.jsx)(re.a,{})}),Object(a.jsx)(N.a,{edge:"end",color:"secondary","aria-label":"delete",onClick:function(){var e=Object(b.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./apps/".concat(t),{method:"Delete"});case 2:K.success("\u5220\u9664\u6210\u529f"),y(Object(Q.a)());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(a.jsx)(ne.a,{})})]})]},t)}return Object(r.useEffect)((function(){!function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./apps");case 2:return e.next=4,e.sent.json();case 4:n=e.sent,p(n),navigator.serviceWorker&&navigator.serviceWorker.addEventListener("message",function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("update"!==t.data.type){e.next=7;break}return e.next=3,fetch("./apps");case 3:return e.next=5,e.sent.json();case 5:n=e.sent,p(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()()}),[O]),Object(a.jsx)(h.a,{className:t.root,children:l.map((function(e){return Object(a.jsx)(w,{id:e},e)}))})}var pe=Object(l.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function je(e){var t=pe();return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(P.a,{position:"static",children:Object(a.jsxs)(z.a,{children:[Object(a.jsx)(_.a,{variant:"h6",className:t.title,children:"\u7a0b\u5e8f\u5bb9\u5668"}),e.children]})})})}n(109);var de=n(79),fe=n.n(de),be=Object(l.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),he=c.a.forwardRef((function(e,t){return Object(a.jsx)(j.a,Object(u.a)({direction:"up",ref:t},e))}));function Oe(){be();var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],i=function(e){return function(){O(e),c(!0)}},o=Object(r.useState)(Object(Q.a)()),u=Object(s.a)(o,2),l=u[0],j=u[1],d=function(){c(!1)},f=Object(r.useState)("default"),b=Object(s.a)(f,2),h=b[0],O=b[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)(je,{children:Object(a.jsx)(N.a,{"aria-label":"save",color:"inherit",title:"\u65b0\u589e",onClick:function(e){i(Object(Q.a)())()},children:Object(a.jsx)(fe.a,{})})}),Object(a.jsx)(le,{getHandleClickOpen:i},l),Object(a.jsx)(p.a,{fullScreen:!0,open:n,onClose:d,TransitionComponent:he,children:Object(a.jsx)(Z,{onClose:d,onSaved:function(){j(Object(Q.a)())},appId:h})})]})}var xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,169)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};o.a.render(Object(a.jsx)(Oe,{}),document.getElementById("root")),xe()}},[[110,1,2]]]);
//# sourceMappingURL=main.f317c416.chunk.js.map